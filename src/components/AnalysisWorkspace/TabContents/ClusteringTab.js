// src/components/AnalysisWorkspace/TabContents/ClusteringTab.js
// ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีพีฅึีฌีธึีฎีธึีฉีตีกีถ ีฟีกีข

import React, { useState } from 'react';
import { useData } from '../../../context/DataContext';
import { ChartCard, ClusterCard } from '../../UI/Card';
import Button, { ButtonGroup } from '../../UI/Button';
import Alert from '../../UI/Alert';
import { performClustering } from '../../../utils/clustering';

/**
 * ClusteringTab ีขีกีฒีกีคึีซีน - ีฏีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีพีฅึีฌีธึีฎีธึีฉีตีกีถ ีซีถีฟีฅึึีฅีตีฝ
 * ีีธึึีกีคึีธึีด ีง ีฟีพีตีกีฌีถีฅึีซ ีญีดีขีกีพีธึีดีกีถ ีกึีคีตีธึีถึีถีฅึีจ ึ ีฏีฌีกีฝีฟีฅึีกีตีซีถ ีพีซีณีกีฏีกีฃึีธึีฉีตีธึีถีจ
 */
const ClusteringTab = () => {
    const {
        currentData,
        clusterData,
        setClusterData,
        dataType
    } = useData();

    const [clusteringSettings, setClusteringSettings] = useState({
        clusterCount: 4,
        method: 'kmeans',
        maxIterations: 100
    });

    const [isProcessing, setIsProcessing] = useState(false);

    /**
     * ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีดีฅีฏีถีกึีฏ
     */
    const startClustering = async () => {
        if (!currentData || currentData.length === 0) {
            alert('ีีพีตีกีฌีถีฅึีจ ีขีกึีกีฏีกีตีธึีด ีฅีถ ีฏีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีฐีกีดีกึ');
            return;
        }

        setIsProcessing(true);

        try {
            // ีีซีดีธึีฌีตีกึีซีกีตีซ ีฐีฅีฟีกีฑีฃีธึีด
            await new Promise(resolve => setTimeout(resolve, 2000));

            const clusters = await performClustering(currentData, dataType, clusteringSettings);
            setClusterData(clusters);

            console.log('ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีกึีคีตีธึีถึ:', clusters);

        } catch (error) {
            console.error('ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีฝีญีกีฌ:', error);
            alert('ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีชีกีดีกีถีกีฏ ีฝีญีกีฌ ีกีผีกีปีกึีกีพ');
        } finally {
            setIsProcessing(false);
        }
    };

    /**
     * ิฟีกึีฃีกีพีธึีธึีดีถีฅึีซ ีฉีกึีดีกึีธึีด
     */
    const updateSettings = (key, value) => {
        setClusteringSettings(prev => ({
            ...prev,
            [key]: value
        }));
    };

    if (!currentData || currentData.length === 0) {
        return (
            <Alert type="warning" title="ีีพีตีกีฌีถีฅึ ีนีฅีถ ีฃีฟีถีพีฅีฌ">
                ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีฐีกีดีกึ ีกีถีฐึีกีชีฅีทีฟ ีง ีถีกีญ ีดีธึีฟึีกีฃึีฅีฌ ีฟีพีตีกีฌีถีฅึีจ:
            </Alert>
        );
    }

    return (
        <div className="space-y-6">
            {/* ีีฅึีถีกีฃีซึ */}
            <div>
                <h3 className="text-2xl font-bold text-gray-800 mb-2">
                    ๐ฏ ิฟีฌีกีฝีฟีฅึีกึีดีกีถ ีดีฅีฉีธีค
                </h3>
                <p className="text-gray-600">
                    ีีพีตีกีฌีถีฅึีซ ีซีถีฟีฅีฌีซีฃีฅีถีฟ ีญีดีขีกีพีธึีธึีด ีถีดีกีถีธึีฉีตีกีถ ึ ึึีซีถีกีฏีถีฅึีซ ีฐีซีดีกีถ ีพึีก
                </p>
            </div>

            {/* ีีฅีฉีธีคีกีขีกีถีกีฏีกีถ ีซีถึีธ */}
            <div className="bg-red-50 border border-red-200 rounded-lg p-4">
                <h4 className="font-bold text-red-800 mb-2">๐งฎ ิฟีฌีกีฝีฟีฅึีกึีดีกีถ ีดีกีฝีซีถ</h4>
                <div className="text-sm text-red-700 space-y-2">
                    {/* <p>
                        <strong>ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีถ</strong> ีดีฅึีฅีถีกีตีกีฏีกีถ ีธึีฝีธึึีดีกีถ ีกีถีธึีฝีธึึีกีถีกีน ีดีฅีฉีธีค ีง, ีธึีจ ีฟีพีตีกีฌีถีฅึีจ
                        ีขีกีชีกีถีธึีด ีง ีถีดีกีถีธึีฉีตีกีถ ีฐีซีดีกีถ ีพึีก:
                    </p> */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-3">
                        <div className="bg-white rounded p-3 border">
                            <div className="font-bold text-blue-600">K-Means</div>
                            <div className="text-xs text-gray-600 mt-1">ิฑึีกีฃ ึ ีกึีคีตีธึีถีกีพีฅีฟ, ีบีกีฐีกีถีปีธึีด ีง ีถีกีญีถีกีฏีกีถ k</div>
                        </div>
                        <div className="bg-white rounded p-3 border">
                            <div className="font-bold text-green-600">Hierarchical</div>
                            <div className="text-xs text-gray-600 mt-1">ีีฟีฅีฒีฎีธึีด ีง ีฏีฌีกีฝีฟีฅึีถีฅึีซ ีฎีกีผ</div>
                        </div>
                        <div className="bg-white rounded p-3 border">
                            <div className="font-bold text-purple-600">DBSCAN</div>
                            <div className="text-xs text-gray-600 mt-1">ีีกีทีพีซ ีง ีกีผีถีธึีด ีกีฒีดีธึีฏีจ ึ ีธีน ีฝีฟีกีถีคีกึีฟ ีฏีฅีฟีฅึีจ</div>
                        </div>
                    </div>
                </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                {/* ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีฏีกึีฃีกีพีธึีธึีดีถีฅึ */}
                <ChartCard
                    title="ิฟีฌีกีฝีฟีฅึีกึีดีกีถ ีฏีกึีฃีกีพีธึีธึีดีถีฅึ"
                    subtitle="ิฑีฌีฃีธึีซีฉีดีซ ีบีกึีกีดีฅีฟึีฅึีซ ีฟีฅีฒีกีคึีธึีด"
                >
                    <div className="space-y-4">
                        {/* ิฟีฌีกีฝีฟีฅึีถีฅึีซ ึีกีถีกีฏ */}
                        <div>
                            <label className="block text-sm font-bold text-gray-700 mb-2">
                                ิฟีฌีกีฝีฟีฅึีถีฅึีซ ึีกีถีกีฏ
                            </label>
                            <input
                                type="range"
                                min="2"
                                max="8"
                                value={clusteringSettings.clusterCount}
                                onChange={(e) => updateSettings('clusterCount', parseInt(e.target.value))}
                                className="w-full"
                            />
                            <div className="flex justify-between text-xs text-gray-500 mt-1">
                                <span>2</span>
                                <span className="font-bold text-red-600">{clusteringSettings.clusterCount}</span>
                                <span>8</span>
                            </div>
                        </div>

                        {/* ิฑีฌีฃีธึีซีฉีดีซ ีดีฅีฉีธีค */}
                        <div>
                            <label className="block text-sm font-bold text-gray-700 mb-2">
                                ิฟีฌีกีฝีฟีฅึีกึีดีกีถ ีดีฅีฉีธีค
                            </label>
                            <select
                                value={clusteringSettings.method}
                                onChange={(e) => updateSettings('method', e.target.value)}
                                className="w-full p-2 border border-gray-300 rounded-lg"
                            >
                                {/* <option value="kmeans">๐ฏ K-Means</option>
                                <option value="hierarchical">๐ณ ีีซีฅึีกึีญีซีฏ</option>
                                <option value="dbscan">๐ DBSCAN</option> */}
                                <option value="kmeans">๐ฏ K-ีีซีปีซีถีถีฅึ (K-Means)</option>
                                <option value="fuzzy_cmeans">๐ธ Fuzzy C-ีีซีปีซีถีถีฅึ</option>
                                <option value="hierarchical">๐ณ ีีซีฅึีกึีญีซีฏ ีฏีฌีกีฝีฟีฅึีกึีธึีด</option>
                                <option value="dbscan">๐ DBSCAN</option>
                                <option value="spectral">๐ ีีบีฅีฏีฟึีกีฌ ีฏีฌีกีฝีฟีฅึีกึีธึีด</option>
                                <option value="acas">๐ค ACAS (ิฑีพีฟีธีดีกีฟ ีจีถีฟึีธึีฉีตีธึีถ)</option>
                            </select>
                        </div>

                        {/* ิฑีผีกีพีฅีฌีกีฃีธึีตีถ ีฏึีฏีถีธึีฉีตีธึีถีถีฅึ */}
                        <div>
                            <label className="block text-sm font-bold text-gray-700 mb-2">
                                ิฑีผีกีพีฅีฌีกีฃีธึีตีถ ีฏึีฏีถีธึีฉีตีธึีถีถีฅึ
                            </label>
                            <input
                                type="number"
                                min="50"
                                max="500"
                                step="50"
                                value={clusteringSettings.maxIterations}
                                onChange={(e) => updateSettings('maxIterations', parseInt(e.target.value))}
                                className="w-full p-2 border border-gray-300 rounded-lg"
                            />
                        </div>

                        {/* ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีฏีธีณีกีฏ */}
                        <div className="pt-4 border-t border-gray-200">
                            <Button
                                onClick={startClustering}
                                variant="warning"
                                size="md"
                                className="w-full"
                                disabled={isProcessing}
                                loading={isProcessing}
                            >
                                {isProcessing ? '๐ ิฟีฌีกีฝีฟีฅึีกึีธึีด...' : '๐ฏ ีีฏีฝีฅีฌ ีฏีฌีกีฝีฟีฅึีกึีธึีดีจ'}
                            </Button>
                        </div>
                    </div>
                </ChartCard>

                {/* ีีพีตีกีฌีถีฅึีซ ีถีกีญีกีบีกีฟึีกีฝีฟีธึีด */}
                <ChartCard
                    title="ีีพีตีกีฌีถีฅึีซ ีถีกีญีกีบีกีฟึีกีฝีฟีธึีด"
                    subtitle="ิฟีฌีกีฝีฟีฅึีกึีดีกีถ ีฐีกีดีกึ ีฟีพีตีกีฌีถีฅึีซ ีฃีถีกีฐีกีฟีธึีด"
                >
                    <div className="space-y-4">
                        {/* ีีพีตีกีฌีถีฅึีซ ีพีซีณีกีฏีกีฃึีธึีฉีตีธึีถ */}
                        <div className="bg-gray-50 rounded-lg p-4">
                            <h5 className="font-bold text-gray-700 mb-3">๐ ีีพีตีกีฌีถีฅึีซ ีกีดึีธึีธึีด</h5>
                            <div className="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span className="text-gray-600">ีีธีฒีฅึ:</span>
                                    <span className="font-bold ml-2">{currentData.length}</span>
                                </div>
                                <div>
                                    <span className="text-gray-600">ีีตีธึีถีกีฏีถีฅึ:</span>
                                    <span className="font-bold ml-2">{Object.keys(currentData[0]).length}</span>
                                </div>
                                <div>
                                    <span className="text-gray-600">ิฟีฌีกีฝีฟีฅึีถีฅึีซ ึีกีถีกีฏ:</span>
                                    <span className="font-bold ml-2">{getDimensionality()}</span>
                                </div>
                                <div>
                                    <span className="text-gray-600">ีีกึีดีกึีธึีฉีตีธึีถ:</span>
                                    <span className="font-bold ml-2 text-green-600">{getClusterabilityScore()}%</span>
                                </div>
                            </div>
                        </div>

                        {/* ีีฅีฉีธีคีซ ีจีถีฟึีธึีฉีตีกีถ ีกีผีกีปีกึีฏีธึีฉีตีธึีถ */}
                        <div className="bg-blue-50 rounded-lg p-4">
                            <h5 className="font-bold text-blue-700 mb-2">๐ค ิฑีผีกีปีกึีฏีพีธีฒ ีดีฅีฉีธีค</h5>
                            <div className="text-sm text-blue-600">
                                {getRecommendedMethod()}
                            </div>
                        </div>

                        {/* ิฟีกีถีญีกีฟีฅีฝีพีกีฎ ีชีกีดีกีถีกีฏ */}
                        <div className="bg-yellow-50 rounded-lg p-4">
                            <h5 className="font-bold text-yellow-700 mb-2">โฑ๏ธ ิณีถีกีฐีกีฟีพีกีฎ ีชีกีดีกีถีกีฏ</h5>
                            <div className="text-sm text-yellow-600">
                                <div>ีีทีกีฏีดีกีถ ีชีกีดีกีถีกีฏ: {getEstimatedTime()}</div>
                                <div>ิฒีกึีคีธึีฉีตีธึีถ: {getComplexity()}</div>
                            </div>
                        </div>

                        {/* ีีกีญีกีบีกีตีดีกีถีถีฅึ */}
                        <div className="text-xs text-gray-500">
                            <strong>๐ก ีีธึีทีธึีดีถีฅึ:</strong>
                            <ul className="list-disc list-inside mt-1 space-y-1">
                                <li>ิฑีพีฅีฌีซ ึีซีน ีฏีฌีกีฝีฟีฅึีถีฅึ = ีกีพีฅีฌีซ ีทีกีฟ ีจีถีคีฐีกีถีธึึ ีญีดีขีฅึ</li>
                                <li>K-Means ีกีฌีฃีธึีซีฉีดีจ ีฌีกีพีกีฃีธึีตีถีฝ ีกีทีญีกีฟีธึีด ีง ีฃีถีคีกีฑึ ีฏีฌีกีฝีฟีฅึีถีฅึีซ ีฐีฅีฟ</li>
                                <li>DBSCAN-ีจ ีฐีกีตีฟีถีกีขีฅึีธึีด ีง ีกีฒีดีธึีฏีจ</li>
                            </ul>
                        </div>
                    </div>
                </ChartCard>
            </div>

            {/* ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีกึีคีตีธึีถึีถีฅึ */}
            {clusterData && clusterData.length > 0 && (
                <>
                    <ChartCard title="ิฟีฌีกีฝีฟีฅึีกึีดีกีถ ีกึีคีตีธึีถึีถีฅึ">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                            {clusterData.map((cluster, index) => (
                                <ClusterCard
                                    key={index}
                                    id={cluster.id}
                                    label={cluster.label}
                                    size={cluster.size}
                                    avgValue={cluster.avgValue}
                                    quality={cluster.quality}
                                />
                            ))}
                        </div>
                    </ChartCard>

                    {/* ิฟีฌีกีฝีฟีฅึีถีฅึีซ ีพีซีณีกีฏีกีฃึีธึีฉีตีธึีถ */}
                    <ChartCard title="ิฝีดีขีกีพีธึีดีกีถ ีพีซีณีกีฏีกีฃึีธึีฉีตีธึีถ">
                        <ClusterStatistics clusters={clusterData} totalData={currentData.length} />
                    </ChartCard>

                    {/* ิณีธึีฎีธีฒีธึีฉีตีธึีถีถีฅึีซ ีฏีธีณีกีฏีถีฅึ */}
                    <div className="text-center">
                        <ButtonGroup>
                            <Button
                                onClick={() => exportClusterData()}
                                variant="success"
                                size="md"
                            >
                                ๐ ิฑึีฟีกีฐีกีถีฅีฌ ีฏีฌีกีฝีฟีฅึีถีฅึีจ
                            </Button>

                            <Button
                                onClick={() => visualizeClusters()}
                                variant="secondary"
                                size="md"
                            >
                                ๐ ีีซีฆีธึีกีฌีกึีธึีด
                            </Button>

                            <Button
                                onClick={() => startClustering()}
                                variant="warning"
                                size="md"
                            >
                                ๐ ีีฅึีกีฏีฌีกีฝีฟีฅึีกึีธึีด
                            </Button>
                        </ButtonGroup>
                    </div>
                </>
            )}

            {/* ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีพีฅึีฌีธึีฎีธึีฉีตีกีถ ีฎีกีถีธึึีธึีด */}
            {clusterData && clusterData.length > 0 && (
                <Alert type="success" title="๐ฏ ิฟีฌีกีฝีฟีฅึีกึีธึีดีจ ีฐีกีปีธีฒีธึีฉีตีกีดีข ีกีพีกึีฟีพีฅีฌ ีง">
                    <div className="space-y-2 text-sm">
                        <p>
                            ีีกีตีฟีถีกีขีฅึีพีฅีฌ ีง <strong>{clusterData.length} ีฟีกึีขีฅึ ีญีธึีดีข</strong> ีจีถีคีฐีกีถีธึึ
                            <strong> {currentData.length} ีฟีพีตีกีฌีซ</strong> ีดีฅีป
                        </p>
                        <div>
                            <strong>ีีซีดีถีกีฏีกีถ ีขีกึีกีฐีกีตีฟีธึีดีถีฅึ</strong>
                            <ul className="list-disc list-inside mt-1 space-y-1">
                                <li>ิฑีดีฅีถีกีดีฅีฎ ีญีธึีดีขีจ ีบีกึีธึีถีกีฏีธึีด ีง {Math.max(...clusterData.map(c => c.size))} ีฟีกึึ</li>
                                <li>ิฑีดีฅีถีกีดีซีปีซีถ ีธึีกีฏีซ ีญีธึีดีขีจ ีธึีถีซ {Math.max(...clusterData.map(c => c.quality))}% ีธึีกีฏ</li>
                                <li>ีีพีตีกีฌีถีฅึีซ ีขีกีทีญีธึีดีจ {clusterData.length > 4 ? 'ีขีกีฆีดีกีญีดีขีกีตีซีถ' : 'ีฐีกีพีกีฝีกึีกีฏีทีผีพีกีฎ'} ีง</li>
                            </ul>
                        </div>
                    </div>
                </Alert>
            )}
        </div>
    );

    /**
     * ีีพีตีกีฌีถีฅึีซ ีนีกึีฅึ (dimensions)
     */
    function getDimensionality() {
        return Object.keys(currentData[0]).length;
    }

    /**
     * ิฟีฌีกีฝีฟีฅึีซีฆีกึีซีกีตีซ ีฐีกึีดีกึีธึีฉีตีกีถ ีฃีถีกีฐีกีฟีกีฏ
     */
    function getClusterabilityScore() {
        // ีีกึีฆ ีฃีถีกีฐีกีฟีกีฏี ีฐีซีดีพีกีฎ ีฟีพีตีกีฌีถีฅึีซ ีนีกึีซ ึ ีขีกีฆีดีกีฆีกีถีธึีฉีตีกีถ ีพึีก
        const size = currentData.length;
        const dimensions = getDimensionality();

        if (size < 20) return 60;
        if (size < 100) return 75;
        if (dimensions > 10) return 85;
        return 90;
    }

    /**
     * ิฑีผีกีปีกึีฏีพีธีฒ ีดีฅีฉีธีคีซ ีฝีฟีกึีธึีด
     */
    function getRecommendedMethod() {
        const size = currentData.length;
        const dimensions = getDimensionality();

        if (size < 50) {
            return '๐ณ ีีซีฅึีกึีญีซีฏ ีฏีฌีกีฝีฟีฅึีกึีธึีด (ึีธึึ ีฟีพีตีกีฌีถีฅึีซ ีฐีกีดีกึ)';
        } else if (dimensions > 5) {
            return '๐ฏ K-Means (ีขีกีฆีดีกีนีกึ ีฟีพีตีกีฌีถีฅึีซ ีฐีกีดีกึ)';
        } else {
            return '๐ DBSCAN (ีกีฒีดีธึีฏีซ ีฐีกีตีฟีถีกีขีฅึีดีกีถ ีฐีกีดีกึ)';
        }
    }

    /**
     * ิณีถีกีฐีกีฟีพีกีฎ ีชีกีดีกีถีกีฏีซ ีฝีฟีกึีธึีด
     */
    function getEstimatedTime() {
        const size = currentData.length;
        if (size < 100) return '1-2 ีพีกีตึีฏีตีกีถ';
        if (size < 500) return '3-5 ีพีกีตึีฏีตีกีถ';
        return '5-10 ีพีกีตึีฏีตีกีถ';
    }

    /**
     * ิฒีกึีคีธึีฉีตีกีถ ีฝีฟีกึีธึีด
     */
    function getComplexity() {
        const size = currentData.length;
        const clusters = clusteringSettings.clusterCount;

        if (size < 100 && clusters < 5) return 'ีีกีฎึ';
        if (size < 500 && clusters < 7) return 'ีีซีปีซีถ';
        return 'ิฒีกึีฑึ';
    }

    /**
     * ิฟีฌีกีฝีฟีฅึีกีตีซีถ ีฟีพีตีกีฌีถีฅึีซ ีกึีฟีกีฐีกีถีธึีด
     */
    function exportClusterData() {
        // ิฟีซึีกีฏีกีถีกึีพีซ useFileDownload hook-ีธีพ
        console.log('ิฑึีฟีกีฐีกีถีธึีด ีฏีฌีกีฝีฟีฅึีถีฅึีจ...', clusterData);
        alert('ิฟีฌีกีฝีฟีฅึีถีฅึีจ ีกึีฟีกีฐีกีถีพีฅีฌ ีฅีถ CSV ึีกีตีฌีซ ีดีฅีป');
    }

    /**
     * ิฟีฌีกีฝีฟีฅึีถีฅึีซ ีพีซีฆีธึีกีฌีซีฆีกึีซีก
     */
    function visualizeClusters() {
        // ีีฅีฟีกีฃีก ีซึีกีฏีกีถีกึีธึีด
        console.log('ีีซีฆีธึีกีฌีซีฆีกึีดีกีถ ีดีฅีฏีถีกึีฏ...', clusterData);
        alert('ีีซีฆีธึีกีฌีกึีดีกีถ ึีธึีถีฏึีซีกีตีซ ีกีบีกีฃีก ีซึีกีฏีกีถีกึีธึีด');
    }
};

/**
 * ิฟีฌีกีฝีฟีฅึีถีฅึีซ ีพีซีณีกีฏีกีฃึีธึีฉีตีกีถ ีขีกีฒีกีคึีซีน
 */
const ClusterStatistics = ({ clusters, totalData }) => {
    const totalClustered = clusters.reduce((sum, cluster) => sum + cluster.size, 0);
    const avgClusterSize = totalClustered / clusters.length;
    const coverage = (totalClustered / totalData) * 100;

    return (
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div className="text-center p-4 bg-blue-50 rounded-lg">
                <div className="text-2xl font-bold text-blue-600">{clusters.length}</div>
                <div className="text-sm text-blue-700">ิฝีดีขีฅึีซ ึีกีถีกีฏ</div>
            </div>

            <div className="text-center p-4 bg-green-50 rounded-lg">
                <div className="text-2xl font-bold text-green-600">{Math.round(avgClusterSize)}</div>
                <div className="text-sm text-green-700">ีีซีปีซีถ ีนีกึ</div>
            </div>

            <div className="text-center p-4 bg-purple-50 rounded-lg">
                <div className="text-2xl font-bold text-purple-600">{coverage.toFixed(1)}%</div>
                <div className="text-sm text-purple-700">ิธีถีคีฃึีฏีธึีด </div>
            </div>

            <div className="text-center p-4 bg-orange-50 rounded-lg">
                <div className="text-2xl font-bold text-orange-600">
                    {Math.round(clusters.reduce((sum, c) => sum + c.quality, 0) / clusters.length)}%
                </div>
                <div className="text-sm text-orange-700">ีีซีปีซีถ ีธึีกีฏ</div>
            </div>
        </div>
    );
};

export default ClusteringTab;